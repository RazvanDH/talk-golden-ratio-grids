<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>DIY Golden Ratio Grid System using Sass</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
        <section>
          <h2>DIY Golden Ratio Grid System using Sass</h2>
          <p><small><a href="mailto:razvan@spatariu.me">Razvan Spatariu</a></small></p>

          <aside class="notes" data-markdown>
            * hello
          </aside>
        </section>


        <section>
          <h3>me_irl</h3>
          <p>
            <img src="/img/sup.gif" alt="" >
          </p>

          <ul>
            <li><a href="mailto:razvan@spatariu.me">Razvan Spatariu</a></li>
            <li>Front-end Engineer @ <a href="https://www.fundingcircle.co.uk" target="_blank">Funding Circle</a></li>
            <li>I ❤️ Sass</li>
          </ul>

          <aside class="notes" data-markdown>
            * name is Razvan Spatariu
            * work at FC
            * I think Sass is amazing and I love using it as a programming language (I have a slide at the end with my GH and CodePen account)
          </aside>
        </section>


        <section>
          <h3>Let's talk about grids</h3>
          <p>
            <img src="/img/newspaper-grids.png" alt="">
          </p>

          <aside class="notes" data-markdown>
            * had some issues in trying to find a decent image of an old newspaper because most of them were related to nazis or other war related issues
            * the reason why I've put the image of a newspaper is that grids, as many other concepts in web were borrowed from the printed press
            * so, what are grids?
          </aside>
        </section>

        <section>
          <h3>what is a grid system?</h3>

          <figure style="float: left; width: 40%;">
            <img src="/img/vertical-grid1.jpg" alt="">
            <figcaption>&copy; <a href="https://smashingmagazine.com">Smashing Magazine</a></figcaption>
          </figure>
          <blockquote style="float: right; width: 55%;" cite="http://webdesign.tutsplus.com/articles/all-about-grid-systems--webdesign-14471">
            ...a structure comprising a series of horizontal and vertical lines, used to arrange content.
            <br><br>
            <small><a href="http://webdesign.tutsplus.com/articles/all-about-grid-systems--webdesign-14471" target="_blank">source</a></small>
          </blockquote>

          <aside class="notes" data-markdown>
            * a grid of vertical and horizontal lines
            * the content "sits" on those lines, making everything as a whole easier to understand and more organised, predictable and logical
            * there is a key word in the definition that we won't talk about, though - horizontal
          </aside>
        </section>

        <section>
          <h3>Vertical rhythm</h3>
          <img src="/img/rythm.gif" alt="" style="float: left; width: 30%;">
          <ul style="float: right; width: 60%;">
            <li>the way the content is aligned on the horizontal grid</li>
            <li>but that is a different beast</li>
          </ul>

          <p class="cl">
            <br><br>
            ... so, by super-simplifying the topic:<br>
            grids = vertical lines = columns
          </p>
          <aside class="notes" data-markdown>
            * vertical rhythm is, fortunately, not related to dance, so I still have a chance of approaching it
            * because of the way CSS / HTML work together, that is a different beast
            * in the implementation of vertical rhythm there are a lot of other things to consider, like font cap height, vertical alignment and others
          </aside>
        </section>

        <section>
          <h3>Example of a column grid</h3>

          <img src="/img/grid-example.jpg" alt="">

          <aside class="notes" data-markdown>
            * this is an example of a grid from one of our layouts
            * you can see the way the columns are
          </aside>
        </section>

        <section>
          <h3>Common solutions for grid systems</h3>
          <div class="common-used">
            <span><img src="/img/960-logo.gif" class="no-border" alt=""></span>
            <span><img src="/img/unsemantic-logo.png" class="no-border" alt=""></span>
            <span><img src="/img/bootstrap.png" class="no-border" alt=""></span>
          </div>

          <aside class="notes" data-markdown>
            * most common used solutions
            * I'm sure you've all used at least one of them
            * 960 is probably one of the first known solutions for grids
            * unsemantic - 960 responsive
            * bootstrap - we all know and love / hate bootstrap
          </aside>
        </section>

        <section>
          <h4>... all of them have something in common</h4>

          <figure>
            <img src="/img/daft-grid-example.jpg" alt=""  style="max-height: 70vh;">
            <figcaption>source <a href="http://bootstrap-sass.happyfuncorp.com/bootstrap-sass/layout/README.html">http://bootstrap-sass.happyfuncorp.com/bootstrap-sass/layout/README.html</a></figcaption>
          </figure>

          <aside class="notes" data-markdown>
            * if we take this example we can notice a connection between the rows of components
            * the sum of all of them is the same
          </aside>
        </section>

        <section>
          <h3>Quick look behind the scenes</h3>
          <p>(12 columns grid)</p>
          <pre><code><header class="row">
  <div  &nbsp;&nbsp;class="col-2">logo</div>
  <span &nbsp;class="col-1"><!--gutter--></span>
  <nav &nbsp;&nbsp;class="col-8">menu</nav>
  <span &nbsp;class="col-1"><!--gutter--></span>
</header>

<div class="row">
  <a &nbsp;&nbsp;class="col-2" href="#">&amp;lt;</a>
  <div class="col-8">slider</div>
  <a &nbsp;&nbsp;class="col-2" href="#">&amp;gt;</a>
</div>
</code></pre>
          <aside class="notes" data-markdown>
            * they are usually splitted into 12 / 16 / 24 columns
            * sum has to be constant = to the # of columns
            * I prefer 12 and 24 because they are multiple of both 2 and 3 and that means more granularity
            * width of each column is a hardcoded value - e.g. in a system of 12 columns, the col-4 will have 33.33% width
            * they grow linear, easy to predict and a bit monotone
          </aside>
        </section>

        <section>
          <h3>&hellip;Aaaaand then you have the<br> <span style="background: gold; display: block;"><marquee direction="left" scrolldelay="30" truespeed="30">golden ratio grid system</marquee></span></h3>

          <img src="/img/different.gif" alt="">

          <aside class="notes" data-markdown>
            * but there are grid systems that are not that linear
            * and before talking about the golden ratio grid system, let's take a look first at what the golden ratio is
          </aside>
        </section>

        <section>
          <h3>Golden ratio - what is it?</h3>
          <blockquote cite="http://www.livescience.com/37704-phi-golden-ratio.html">
            The Golden ratio is a special number found by dividing a line into two parts so that the longer part divided by the smaller part is also equal to the whole length divided by the longer part.
            <br><br>
            <small><a href="http://www.livescience.com/37704-phi-golden-ratio.html">source</a></small>
          </blockquote>

          <div>
            <img src="/img/golden-ratio-math.png" class="no-border" alt="" style="max-width: 850px;">
          </div>

          <aside class="notes" data-markdown>
            * you have the same proportion when dividing the sum to the bigger one as you have when dividing the big one to the small one
            * the result of those divisions is a constant - the golden ratio - 1.6180...
          </aside>
        </section>

        <section>

          <h3>Is this familiar?</h3>
          <figure>
            <img src="/img/fibonacci-spiral.png" alt="">
            <figcaption>the golden spiral</figcaption>
          </figure>

          <aside class="notes" data-markdown>
            * I'm sure everyone has seen this
            * also called the Fibonacci spiral
            * the humain brain is supposedly understanding this as being "natural"
            * you can find this supperimposed on a lot of images
            * most of them are fake and the spiral is forced on top of images of flowers, pictures, etc.
            * you can hear about this in conjunction with other terms as fractals and so on
            * let's see some examples
          </aside>
        </section>

        <section>
          <h3>Example #1:</h3>
          <img src="/img/nautilus_withoverlay.jpg" alt="">
          <aside class="notes" data-markdown>
          </aside>
        </section>

        <section>
          <h3>Example #2:</h3>
          <img src="/img/golden_ratio_in_art.jpg" alt="">
          <aside class="notes" data-markdown>
          </aside>
        </section>


        <section>
          <h3>Example #3:</h3>
          <img src="/img/trump.jpg" alt="">
          <aside class="notes" data-markdown>
          </aside>
        </section>


        <section>
          <h2>How can we extract a grid system out of that?</h2>

          <aside class="notes" data-markdown>
            * ok, but that doesn't look like web columns, does it?
          </aside>
        </section>

        <section>
          <p><small>First, let's take a golden spiral&hellip;</small></p>
          <img src="/img/golden-spiral.png" alt="" class="no-border">

          <div class="fragment">
            <p><small>&hellip;and unfold it&hellip;</small></p>
            <img src="/img/columns-ratio.png" alt="" class="no-border">

            <small><a href="http://codepen.io/RazvanDH/pen/c37cbb2ad24e49917868fb9a334434fd?editors=0100" target="_blank">CodePen example</a></small>
          </div>


          <aside class="notes" data-markdown>
            * if we take the spiral and unfold it
            * we end up with the proportions between the columns
            * we know the relation between any adjacent columns - smaller one * ratio = bigger one
          </aside>
        </section>

        <section>
          <h4>12 columns grid example</h4>
          <p>The growth is linear</p>
          <img src="/img/12-grid-example.png" alt="" class="no-border">

          <h4>Golden ratio grid example</h4>
          <img src="/img/gr-grid-example.png" alt="" class="no-border">

          <aside class="notes" data-markdown>
            * the linear grid system is linear
            * the widths are absolute and straight forward to calculate
            * the golden ratio grid is not linear
          </aside>
        </section>

        <section>
          <h2>Advantages?</h2>

          <aside class="notes" data-markdown>
            * ok, but why this?
          </aside>
        </section>

        <section>
          <h3>It's more organic</h3>

          <h6>12 columns grid</h6>
          <img src="/img/12-3-example.png" alt="" class="no-border">

          <h6>Golden ratio grid</h6>
          <img src="/img/gr-3-example.png" alt="" class="no-border">

          <aside class="notes" data-markdown>
            * it feels more natural, it doesn't have the rigid approach
          </aside>
        </section>

        <section>
          <h3>The grid is based around the content</h3>

          <blockquote cite="http://alistapart.com/article/content-out-layout">
            Grids do not exist in a vacuum. They exist in relation to the content. We never start with a grid. We start with an idea which is then translated into a form, a structure.
            <br><br>
            <small><a href="http://alistapart.com/article/content-out-layout">Linda van Deursen</a></small>
          </blockquote>

          <aside class="notes" data-markdown>
            * with a linear grid system you are forcing the content inside your grid, because of the way the grid grows
            * with a golden ratio grid, you have more granularity. The columns do not have a fixed width, they depend on the granularity set by the designer - making the grid fit the content than the other way around
          </aside>
        </section>


        <section>
          <h3>It works very well with <br>responsive designs</h3>

          <blockquote cite="http://alistapart.com/article/content-out-layout">
            For us it solves some common problems with using grids on responsive layouts: particularly around the change in grids at certain breakpoints and allowing a consistent grid ​system​ without the rigidity of a symmetrical, fixed grid.
            <br><br>
            <small>Adam Perfect, Head of Design @ Funding Circle</small>
          </blockquote>

          <aside class="notes" data-markdown>
            * with a linear grid system you are forcing the content inside your grid, because of the way the grid grows
            * with a golden ratio grid, you have more granularity. The columns do not have a fixed width, they depend on the granularity set by the designer - making the grid fit the content than the other way around
          </aside>
        </section>


        <section>
          <h2>Disadvantages?</h2>

          <aside class="notes" data-markdown>
            * ok, but what's the catch?
          </aside>
        </section>

        <section>
          <h3>Difficult to implement</h3>

          <img src="/img/variable-widths.png" alt="" class="no-border">

          <aside class="notes" data-markdown>
            * variable widths means a lot of math behind the scenes
          </aside>
        </section>




        <section>
          <h2>Sass implementation</h2>
          <img src="/img/lets-do-this.gif" alt="">

          <aside class="notes" data-markdown>
            * weapon of choice: Sass
          </aside>
        </section>



        <section>
          <h2>Let's set some goals</h2>

          <aside class="notes" data-markdown>
            * before starting the implementation we need to know exactly where we want to get at the end
          </aside>
        </section>

        <section>
          <h2>Goal #1</h2>
          <p>a Sass mixin for custom design implementations</p>
          <img src="/img/goal.png" alt="" width="50%">
          <pre><code>.parent { @include columns(7 2 3, 1 4 2); }</code></pre>
          <aside class="notes" data-markdown>
            * a mixin that you can apply on the wrapper of the columns that will set the correct widths and create the columns
          </aside>
        </section>


        <section>
          <h2>Goal #2</h2>
          <p>utility-classes for fast prototyping</p>
          <img src="/img/goal.png" alt="" width="50%">
          <pre><code><div class="col-s-wrapper">
  <div class="col-s-7 col-m-4"></div>
  <div class="col-s-2 col-m-1"></div>
  <div class="col-s-3 col-m-2"></div>
</div>
<div class="col-s-wrapper">
  <div class="col-s-1 col-l-2"></div>
  <div class="col-s-4 col-l-5"></div>
  <div class="col-s-2 col-l-3"></div>
</div></code></pre>
          <aside class="notes" data-markdown>
            * everybody knows how the 12 / 24 / 36 cols grid systems work - we want something similar
          </aside>
        </section>

        <section>
          <h2>Step #0</h2>
          <p>Housekeeping</p>

          <pre><code>$golden-grid-config: (
  max-number: 8,
  ratio: 1.618,
  utility-classes-breakpoints: (
    s: false,
    m: mobile-medium,
    l: tablet-medium,
    xl: desktop-medium
  )
);

// function for easier navigation through the variables map
@function gr($val) {
  @return map-get($golden-grid-config, $val);
}</code></pre>

          <aside class="notes" data-markdown>
            * I usually like to keep my configuration in a map
            * the function is just an utility to extract values easier from the map - and when I say easier, it's more like... lazyer.
          </aside>
        </section>

        <section>
          <h2>Step #1</h2>
          <p>Generate the relations between columns</p>
          <img src="/img/gr-grid-example.png" alt="" class="no-border">

          <pre><code>// generate the golden scale
@function golden-scale($golden-scale-list: 1) {
  @for $i from $golden-scale-list through gr(max-number) {
    $golden-scale-list-last: nth($golden-scale-list, length($golden-scale-list));
    $golden-scale-list: append($golden-scale-list, $golden-scale-list-last * gr(ratio));
  }
  @return $golden-scale-list;
}

$golden-scale: golden-scale();</code></pre>

<pre><code>@debug $golden-scale;
DEBUG: 1 1.618 2.61792 4.2358 6.85353 11.08901 17.94201 29.03017 46.97082 75.99879 122.96604</code></pre>

          <aside class="notes" data-markdown>
            * first step is to generate the values that will act as proportions for each column
            * we do that by taking the last value of the list and multiplying it with the ratio
            * we will store all the values in a cached list
            * you can see the results in the debug
          </aside>
        </section>

        <!-- OLD -->

        <section>
          <h2>Step 2</h2>
          <small>- generate the relations between columns -</small>

          <p>φ = a+b/a = a/b = 1.6180&hellip;</p>
          <img src="/img/relation.png" alt="">
          <pre><code>// generate the golden scale
@function golden-scale($golden-scale-list: 1) {
  @for $i from $golden-scale-list through gr(max-number) {
    $golden-scale-list-last: nth($golden-scale-list, length($golden-scale-list));
    $golden-scale-list: append($golden-scale-list, $golden-scale-list-last * gr(ratio));
  }
  @return $golden-scale-list;
}

$golden-scale: golden-scale();</code></pre>

          <aside class="notes" data-markdown>
            * pasul 1 - sa extragem relatia dintre coloane
            * construim un array / lista cu proportiile coloanelor
            * daca ne intoarcem la formula: a/b = 1.618 => a = 1.618 * b
            * asta face lista - nu e o functie recursiva, ci pur si simplu citesc ultima valoare din lista si o inmultesc cu ratio
            * rezultatul e o lista pe care o pastrez intr-o variabila
            * SHOW CONSOLE
          </aside>
        </section>

        <section>
          <h2>Step 3</h2>
          <small>- generate usable values -</small>

          <img src="/img/percentages.png" alt="" class="no-border" width="60%" style="display: block; margin: 0 auto;">
          <pre><code>// send a list of proportions and it returns the percentage for each
@function get-columns-widths($cols) {
  $sum: 0;
  $widths: ();

  // find the sum of all proportions
  @for $i from 1 through length($cols) {
    $current-proportion: nth($cols, $i);
    $ratio-proportion: nth($golden-scale, $current-proportion);
    $sum: $sum + $ratio-proportion;
  }

  // find the proportion for each width by using the rule of three
  @for $i from 1 through length($cols) {
    $current-width: 100 * nth($golden-scale, nth($cols, $i)) / $sum;
    $widths: append($widths, $current-width);
  }

  @return $widths;
}</code></pre>

          <aside class="notes" data-markdown>
            * dar lista de valori nu e extrem de folositoare singura - vrem sa transformam valorile respective in proportii
            * daca ne uitam la ce vrem sa obtinem - vrem sa convertim parametrii in proportii
            * o sa facem asta prin regula de trei simpla
            * suma parametrilor o sa ne dea echivalentul a 100%
            * daca suma parametrilor e echivalentul a 100%, fiecare parametru reprezinta X
            * SHOW CONSOLE
          </aside>
        </section>

        <section>
          <h2><code>@mixin</code> time</h2>

          <img src="/img/ready.gif" alt="" class="no-border">

          <aside class="notes" data-markdown>
            * am terminat cu functiile - avem tot ce ne trebuie ca sa obtinem primul obiectiv dorit - mixin-ul
          </aside>
        </section>

        <section class="mixin-code">
          <pre><code>.parent { @include columns(7 2 3, 1 4 2); }</code></pre>
          <pre><code>// the mixin that generate the columns
@mixin columns($cols...) {
  display: flex;
  flex-wrap: wrap;

  // check if a comma is present in the cols declaration
  $multi-columns: str-index($cols + '', ',');

  @if gr(no-flex-class) {
    > * {
      #{unquote(gr(no-flex-class))} & {
        float: left;
      }
    }
  }

  @if type-of($multi-columns) == null {

    // all columns are on 1 row, calculate the widths
    $widths: get-columns-widths($cols);

    // set them accordingly
    @include set-columns-widths($widths);

  } @else {
    // we have multiple rows for columns

    // this is the index that counts the :nth-child
    // we need this because we are iterating through a list of lists
    $start-from: 0;

    // go through each row
    @for $i from 1 through length($cols) {

      // find the widths for each row
      $widths: get-columns-widths(nth($cols, $i));

      // set the widths
      @include set-columns-widths($widths, $start-from);

      // update the offset index
      $start-from: $start-from + length($widths);
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * mixinul se aplica pe parintele coloanelor
            * foloseste nth-child ca sa seteze width-ul rezultat
            * display flex ca default, float ca fallback
            * start-from e un index pt nth-child pt ca, daca avem mai multe liste, indexul se pierde
            * folosim set-columns-widths separat pt ca aplicam acelasi CSS pt ambele variante si vrem sa fim cat de cat DRY
          </aside>
        </section>

        <section class="mixin-code">
          <pre><code>// mixin that generates the styling for each column in the columns mixin
@mixin set-columns-widths($cols, $start-from: 0) {
  @for $i from 1 through length($cols) {

    // $start-from is making sure we're providing the offset for multiple columns
    > :nth-child(#{$i + $start-from}) {
      width: nth($cols, $i) * 1%;

      // fallback
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {
          @if $i == 1 {
            clear: left;
          }
        }
      }
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * aplicam latimea
            * aplicam clear: left pt fallback pt primele elemente din lista
            * SHOW CONSOLE
          </aside>
        </section>


        <section>
          <h2>Nearly there&hellip;</h2>
          <img src="/img/tired.gif" alt="">

          <aside class="notes" data-markdown>
            * hai ca mai avem putin, am terminat cu primul obiectiv, mai avem unul
          </aside>
        </section>


        <section>
          <h2>Utility classes</h2>
        </section>

        <section class="mixin-code">
          <pre><code>.col {
  // generate responsive classes
  $responsive-map: gr(utility-classes-breakpoints);
  $responsive-keys: map-keys($responsive-map);
  $responsive-values: map-values($responsive-map);

  @for $i from 1 through length($responsive-keys) {
    $breakpoint-from: nth($responsive-values, $i);

    @include breakpoint(from $breakpoint-from) {
      &-#{nth($responsive-keys, $i)} {

        &-wrapper {
          display: table;
          table-layout: fixed;
        }

        &-wrapper > * {
          display: table-cell;
        }

        @for $j from 1 through gr(max-number) {
          $current-absolute-proportion: nth($golden-scale, $j);
          &-#{$j} {
            width: $current-absolute-proportion * 1%;
          }
        }
      }
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * folosim un mixin separat pt breakpoints
            * ne folosim de un mic hack al display: table unde suma latimilor nu trebuie sa fie 100%
          </aside>
        </section>

        <section>
          <h2>Conclusions</h2>

          <ul>
            <li>it's never JUST some mindless CSS</li>
            <li>keep your end goals as simple as possible</li>
            <li>write tools that can be used by everyone</li>
            <li>always try to improve on your solutions</li>
          </ul>

          <aside class="notes" data-markdown>
            * si cu asta am cam terminat ce aveam de terminat, urmeaza concluziile
          </aside>
        </section>

        <section>
          <h2>Thank you!</h2>

          <img src="/img/thanks.gif" alt="">

          <ul>
            <li><a href="https://github.com/RazvanDH">https://github.com/RazvanDH</a></li>
            <li><a href="https://github.com/RazvanDH/talk-golden-ratio-grids">https://github.com/RazvanDH/talk-golden-ratio-grids</a></li>
            <li><a href="https://github.com/RazvanDH/rs-golden-ratio-grid">https://github.com/RazvanDH/rs-golden-ratio-grid</a> </li>
            <li><code>npm install rs-golden-ratio-grid</code></li>
            <li><a href="http://codepen.io/RazvanDH/">http://codepen.io/RazvanDH/</a></li>
            <li><a href="mailto:razvanspatariu@gmail.com">razvanspatariu@gmail.com</a></li>
          </ul>

          <aside class="notes" data-markdown>
            linkuri catre chestii
          </aside>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
