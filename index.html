<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>DIY Golden Ratio Grid System using Sass</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
          <h2>DIY Golden Ratio Grid System using Sass</h2>
          <p>
            <small>- by Razvan Spatariu -</small>
          </p>
          <aside class="notes" data-markdown>
            * buna ziua
            * aplauze pt organizatori
            * NEXT: cateva ceva despre mine
          </aside>
        </section>

        <section>
          <h3>me_irl</h3>

          <img src="/img/mugshot.jpg" alt="" width="15%" >

          <ul>
            <li><a href="https://github.com/RazvanDH/" target="_blank">Razvan Spatariu</a></li>
            <li>Front-end Engineer @ <a href="https://www.fundingcircle.co.uk" target="_blank">Funding Circle</a></li>
            <li>Passionate about everything UI related</li>
            <li>Spending way too much time messing with <a href="http://codepen.io/RazvanDH/" target="_blank">Sass</a></li>
          </ul>

          <aside class="notes" data-markdown>
            * FE engineer
            * fost designer / front-end
            * it's never just some CSS - vezi pe profilul de CodePen
            * hai sa incepem prezentarea!
          </aside>
        </section>

        <section>
          <h3>What is a grid system?</h3>

          <blockquote class="fragment" cite="http://webdesign.tutsplus.com/articles/all-about-grid-systems--webdesign-14471">
            ...a structure comprising a series of horizontal and vertical lines, used to arrange content.
            <br><br>
            <small><a href="http://webdesign.tutsplus.com/articles/all-about-grid-systems--webdesign-14471" target="_blank">source</a></small>
          </blockquote>


          <aside class="notes" data-markdown>
            * o structura de linii orizontale / verticale
            * continutul se "aseaza" pe acele linii
            * ofera o senzatie de uniformitate, o logica in afisarea continutului
          </aside>
        </section>

        <section>
          <h3>Example of a column grid</h3>

          <img src="/img/grid-example.jpg" alt="">

          <aside class="notes" data-markdown>
            * in web, impartim grid-urile in doua parti
              * vertical - coloane
              * orizontal - typography si vertical-rythm (termen imprumutat din presa tiparita)
          </aside>
        </section>

        <section>
          <h3>Common used solutions</h3>
          <div class="common-used">
            <span><img src="/img/960-logo.gif" class="no-border" alt=""></span>
            <span><img src="/img/unsemantic-logo.png" class="no-border" alt=""></span>
            <span><img src="/img/bootstrap.png" class="no-border" alt=""></span>
          </div>

          <aside class="notes" data-markdown>
            * solutiile cunoscute folosite acum
            * 960 solutie deja extrem de cunoscuta si cam prima solutie la care te gandesti
            * unsemantic - 960 responsive
            * bootstrap - nu are nevoie de explicatii
          </aside>
        </section>

        <section>
          <h2>Examples</h2>

          <div class="common-used common-used-grids">
            <div>
              <img src="/img/24-grid-example.png" alt="">
            </div>
            <div>
              <img src="/img/12-grid-example.jpg" alt="">
            </div>
          </div>

          <aside class="notes" data-markdown>
            <ul>
              <li>in stanga - grid de 24 inainte de a adauga continutul</li>
              <li>in dreapta - grid de 12 cu continut</li>
              <li>continutul se aliniaza</li>
              <li>hai sa vedem cum functioneza ele</li>
            </ul>
          </aside>

        </section>


        <section>
          <h3>How do they work?</h3>

          <pre><code><div class="container">
  <div class="row">
    <div class="col-sm-4">One of three columns</div>
    <div class="col-sm-4">One of three columns</div>
    <div class="col-sm-4">One of three columns</div>
  </div>
</div></code></pre>

          <ul>
            <li>12 / 16 / 24 / x columns</li>
            <li>Sum of the column parameters has to be equal to the number of columns</li>
            <li>Widths grow linear</li>
          </ul>

          <aside>
            <li>numarul de coloane e de obicei 12/16/24</li>
            <li>suma parametrilor coloanelor trebuie sa fie egal cu suma coloanelor</li>
            <li>12 si 24 sunt preferabile pt ca sunt multiplii de 2 si 3 si ofera o granularitate mai mare</li>
            <li>latimea coloanelor este absoluta - coloana de 4 intr-un sistem de 12 va avea latimea de 33.3%</li>
          </aside>
        </section>

        <section>
          <h3>Aaaaand then you have the golden ratio grid system&hellip;</h3>

          <img src="/img/different.gif" alt="">

          <aside class="notes" data-markdown>
            <ul>
              <li>dar avem si sisteme de coloane care nu se supun acelorasi reguli</li>
              <li>dar inainte de a vorbi despre golden ratio grid system, intai sa vedem ce e golden ratio</li>
            </ul>
          </aside>
        </section>

        <section>
          <h3>What is the golden ratio?</h3>
          <blockquote class="fragment" cite="http://www.livescience.com/37704-phi-golden-ratio.html">
            The Golden ratio is a special number found by dividing a line into two parts so that the longer part divided by the smaller part is also equal to the whole length divided by the longer part.
            <br><br>
            <small><a href="http://www.livescience.com/37704-phi-golden-ratio.html">source</a></small>
          </blockquote>
          <aside class="notes" data-markdown>
            * se dau doua segmente - impartind segmentul mare la segmentul mic trebuie sa fie egal cu impartirea sumei segmentelor la segmentul mare
            * e o explicatie destul de seaca, sa incercam o solutie mai vizuala
          </aside>
        </section>

        <section>
          <h2>Golden ratio</h2>
          <img src="/img/golden-ratio-math.svg" class="no-border" alt="">
          <p>Ï† = a+b/a = a/b = 1.6180&hellip;</p>

          <aside class="notes" data-markdown>
            * golden ratio are valoarea 1.6180 si este o constanta daca segmentele indeplinesc proprietatea mentionata mai sus
          </aside>
        </section>

        <section>
          <h2>How can we extract a grid system out of that?</h2>

          <aside class="notes" data-markdown>
            * bun, dar cum scoatem un grid system din asta?
          </aside>
        </section>

        <section>
          <p>First, let's take a golden spiral&hellip;</p>
          <img src="/img/golden-spiral.png" alt="" class="no-border">

          <div class="fragment">
            <p>&hellip;and stretch it&hellip;</p>
            <img src="/img/columns-ratio.png" alt="" class="no-border">
          </div>

          <aside class="notes" data-markdown>
            * luam o spirala logaritmica in care factorul de crestere este golden ratio
            * putem observa cum suma laturilor dreptunghiurilor alaturate este egala cu latura urmatorului dreptunghi
            * intindem acea spirala si obtinem un sistem de coloane
            * stim ca relatia intre coloane este (coloana precedenta * 1.618)
            * care sunt avantajele
          </aside>
        </section>

        <section>
          <h2>Advantages?</h2>

          <ul class="fragment">
            <li>
              No limitation on the sum of the column parameters
              <img src="/img/insert-column.png" alt="" class="no-border">
            </li>
            <li>
              Better control over small columns
            </li>
          </ul>

          <aside class="notes" data-markdown>
            * aparent, creierul percepe asta ca fiind mai natural si mai putin fortat decat un grid normal, liniar
            * suma coloanelor nu trebuie sa fie un anumit numar - coloanele sunt relative intre ele
            * control mai bun asupra coloanelor mici - conform echipei de design
            * hai sa vedem cum putem sa implementam solutia
          </aside>
        </section>


        <section>
          <h2>Sass implementation</h2>

          <aside class="notes" data-markdown>
            * weapon of choice: Sass
          </aside>
        </section>

        <section>
          <h2>Goals</h2>
          <ul>
            <li>
              a Sass mixin for custom design implementations
              <pre><code>.parent { @include columns(7 2 3, 1 4 2); }
|---7---|-2-|--3--|
|-1-|---4---|--2--|</code></pre>
            </li>
            <li>
              Utility-classes for fast prototyping
              <pre><code><div class="col-s-7"></div>
<div class="col-s-2"></div>
<div class="col-s-3"></div></code></pre>
            </li>
          </ul>

          <aside class="notes" data-markdown>
            * inainte de a incepe implementarea, hai sa vedem unde vrem sa ajungem
            * un mixin care se aplica pe parinte care poate sa primeasca mai multi parametrii
            * stretch goal: utility classes precum 960, bootstrap si celalalte
          </aside>
        </section>

        <section>
          <h2>Step 1</h2>
          <small>- a bit of housekeeping -</small>

          <pre><code>$golden-grid-config: (
  max-number: 8,
  no-flex-class: '.ie-9',
  ratio: 1.618,
  utility-classes-breakpoints: (
    s: false,
    m: mobile-medium,
    l: tablet-medium,
    xl: desktop-medium
  )
);

// function for easier navigation through the variables map
@function gr($val) {
  @if map-has-key($golden-grid-config, $val) {
    @return map-get($golden-grid-config, $val);
  } @else {
    @error '#{$val} does not exist';
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * primul lucru pe care il fac de obicei e sa creez un map cu configuratia
            * si o functie prin care pot sa extrag valorile mai usor
          </aside>
        </section>

        <section>
          <h2>Step 2</h2>
          <small>- generate the relations between columns -</small>

          <pre><code>// generate the golden scale
@function golden-scale($golden-scale-list: 1) {
  @for $i from $golden-scale-list through gr(max-number) {
    $golden-scale-list-last: nth($golden-scale-list, length($golden-scale-list));
    $golden-scale-list: append($golden-scale-list, $golden-scale-list-last * gr(ratio));
  }
  @return $golden-scale-list;
}

$golden-scale: golden-scale();</code></pre>

          <aside class="notes" data-markdown>
            * pasul 1 - sa extragem relatia dintre coloane
            * construim un array / lista cu proportiile coloanelor
            * daca ne intoarcem la formula: a/b = 1.618 => a = 1.618 * b
            * asta face lista - nu e o functie recursiva, ci pur si simplu citesc ultima valoare din lista si o inmultesc cu ratio
            * rezultatul e o lista pe care o pastrez intr-o variabila
            * SHOW CONSOLE
          </aside>
        </section>

        <section>
          <h2>Step 3</h2>
          <small>- generate usable values -</small>

          <pre><code>// send a list of proportions and it returns the percentage for each
@function get-columns-widths($cols) {
  $sum: 0;
  $widths: ();

  // find the sum of all proportions
  @for $i from 1 through length($cols) {
    $current-proportion: nth($cols, $i);
    $ratio-proportion: nth($golden-scale, $current-proportion);
    $sum: $sum + $ratio-proportion;
  }

  // find the proportion for each width by using the rule of three
  @for $i from 1 through length($cols) {
    $current-width: 100 * nth($golden-scale, nth($cols, $i)) / $sum;
    $widths: append($widths, $current-width);
  }

  @return $widths;
}</code></pre>

          <aside class="notes" data-markdown>
            * dar lista de valori nu e extrem de folositoare singura - vrem sa transformam valorile respective in proportii
            * daca ne uitam la ce vrem sa obtinem - vrem sa convertim parametrii in proportii
            * o sa facem asta prin regula de trei simpla
            * suma parametrilor o sa ne dea echivalentul a 100%
            * daca suma parametrilor e echivalentul a 100%, fiecare parametru reprezinta X
            * SHOW CONSOLE
          </aside>
        </section>

        <section>
          <h2><code>@mixin</code> time</h2>

          <img src="/img/ready.gif" alt="" class="no-border">

          <aside class="notes" data-markdown>
            * am terminat cu functiile - avem tot ce ne trebuie ca sa obtinem primul obiectiv dorit - mixin-ul
          </aside>
        </section>

        <section class="mixin-code">
          <pre><code>// the mixin that generate the columns
@mixin columns($cols...) {
  display: flex;
  flex-wrap: wrap;

  // check if a comma is present in the cols declaration
  $multi-columns: str-index($cols + '', ',');

  @if gr(no-flex-class) {
    > * {
      #{unquote(gr(no-flex-class))} & {
        float: left;
      }
    }
  }

  @if type-of($multi-columns) == null {

    // all columns are on 1 row, calculate the widths
    $widths: get-columns-widths($cols);

    // set them accordingly
    @include set-columns-widths($widths);

  } @else {
    // we have multiple rows for columns

    // this is the index that counts the :nth-child
    // we need this because we are iterating through a list of lists
    $start-from: 0;

    // go through each row
    @for $i from 1 through length($cols) {

      // find the widths for each row
      $widths: get-columns-widths(nth($cols, $i));

      // set the widths
      @include set-columns-widths($widths, $start-from);

      // update the offset index
      $start-from: $start-from + length($widths);
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * mixinul se aplica pe parintele coloanelor
            * foloseste nth-child ca sa seteze width-ul rezultat
            * display flex ca default, float ca fallback
            * start-from e un index pt nth-child pt ca, daca avem mai multe liste, indexul se pierde
            * folosim set-columns-widths separat pt ca aplicam acelasi CSS pt ambele variante si vrem sa fim cat de cat DRY
          </aside>
        </section>

        <section class="mixin-code">
          <pre><code>// mixin that generates the styling for each column in the columns mixin
@mixin set-columns-widths($cols, $start-from: 0) {
  @for $i from 1 through length($cols) {

    // $start-from is making sure we're providing the offset for multiple columns
    > :nth-child(#{$i + $start-from}) {
      width: nth($cols, $i) * 1%;

      // fallback
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {
          @if $i == 1 {
            clear: left;
          }
        }
      }
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * aplicam latimea
            * aplicam clear: left pt fallback pt primele elemente din lista
            * SHOW CONSOLE
          </aside>
        </section>


        <section>
          <h2>Nearly there&hellip;</h2>
          <img src="/img/tired.gif" alt="">

          <aside class="notes" data-markdown>
            * hai ca mai avem putin, am terminat cu primul obiectiv, mai avem unul
          </aside>
        </section>


        <section>
          <h2>Utility classes</h2>
        </section>

        <section class="mixin-code">
          <pre><code>.col {
  // generate responsive classes
  $responsive-map: gr(utility-classes-breakpoints);
  $responsive-keys: map-keys($responsive-map);
  $responsive-values: map-values($responsive-map);

  @for $i from 1 through length($responsive-keys) {
    $breakpoint-from: nth($responsive-values, $i);

    @include breakpoint(from $breakpoint-from) {
      &-#{nth($responsive-keys, $i)} {

        &-wrapper {
          display: table;
          table-layout: fixed;
        }

        &-wrapper > * {
          display: table-cell;
        }

        @for $j from 1 through gr(max-number) {
          $current-absolute-proportion: nth($golden-scale, $j);
          &-#{$j} {
            width: $current-absolute-proportion * 1%;
          }
        }
      }
    }
  }
}</code></pre>

          <aside class="notes" data-markdown>
            * folosim un mixin separat pt breakpoints
            * ne folosim de un mic hack al display: table unde suma latimilor nu trebuie sa fie 100%
          </aside>
        </section>

        <section>
          <h2>Conclusions</h2>

          <ul>
            <li>it's never JUST some mindless CSS</li>
            <li>keep your end goals as simple as possible</li>
            <li>write tools that can be used by everyone</li>
            <li>always try to improve on your solutions</li>
          </ul>

          <aside class="notes" data-markdown>
            * si cu asta am cam terminat ce aveam de terminat, urmeaza concluziile
          </aside>
        </section>

        <section>
          <h2>Thank you!</h2>

          <img src="/img/thanks.gif" alt="">

          <ul>
            <li><a href="https://github.com/RazvanDH">https://github.com/RazvanDH</a></li>
            <li><a href="https://github.com/RazvanDH/talk-golden-ratio-grids">https://github.com/RazvanDH/talk-golden-ratio-grids</a></li>
            <li><a href="https://github.com/RazvanDH/rs-golden-ratio-grid">https://github.com/RazvanDH/rs-golden-ratio-grid</a> </li>
            <li><code>npm install rs-golden-ratio-grid</code></li>
            <li><a href="http://codepen.io/RazvanDH/">http://codepen.io/RazvanDH/</a></li>
          </ul>

          <aside class="notes" data-markdown>
            linkuri catre chestii
          </aside>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
